# Инструкция по использованию Live Reload

## Что такое Live Reload?

Live Reload - это функция, которая автоматически обновляет страницу в браузере при изменении файлов проекта. Это позволяет сразу видеть результаты внесенных изменений без необходимости вручную обновлять страницу.

## Как использовать Live Reload в проекте

### Способ 1: Подключение JavaScript-файла

1. Добавьте следующий тег скрипта перед закрывающим тегом `</body>` в ваш HTML-файл:

```html
<script src="js/live-reload.js"></script>
```

2. Сохраните файл и откройте его в браузере.
3. Теперь при изменении HTML, CSS или JavaScript файлов страница будет автоматически обновляться.

### Способ 2: Вставка кода напрямую

Если вы не хотите добавлять отдельный файл, вы можете вставить следующий код перед закрывающим тегом `</body>` в ваш HTML-файл:

```html
<script>
// Скрипт для автоматического обновления страницы
(function() {
    let lastModified = new Date().getTime();
    setInterval(function() {
        fetch(window.location.href, { method: 'HEAD', cache: 'no-store' })
            .then(response => {
                const serverLastModified = new Date(response.headers.get('Last-Modified')).getTime();
                if (serverLastModified > lastModified) {
                    console.log('Обнаружены изменения, перезагрузка страницы...');
                    location.reload();
                    lastModified = serverLastModified;
                }
            })
            .catch(err => console.error('Ошибка проверки обновлений:', err));
    }, 1000);
})();
</script>
```

### Способ 3: Демонстрационная страница

В проекте есть демонстрационная страница `live-reload.html`, которая показывает работу Live Reload. Вы можете открыть её в браузере и использовать как пример.

## Как это работает?

Скрипт Live Reload работает следующим образом:

1. Каждую секунду отправляет HEAD-запрос к текущей странице
2. Проверяет заголовок Last-Modified в ответе сервера
3. Если время последней модификации изменилось, перезагружает страницу

## Примечания

- Live Reload работает только при открытии страницы через HTTP-сервер (не через file://)
- Для корректной работы сервер должен правильно устанавливать заголовок Last-Modified
- Если вы используете кэширование на сервере, добавьте параметр `cache: 'no-store'` в запрос

## Настройка для разных серверов

### Для PowerShell HTTP-сервера

Если вы используете PowerShell HTTP-сервер (например, basic-server.ps1), убедитесь, что он правильно устанавливает заголовок Last-Modified для файлов.

### Для Node.js

Если у вас установлен Node.js, вы можете использовать пакет `live-server` для более надежной работы:

```
npm install -g live-server
live-server --port=8080
```

## Устранение неполадок

- **Страница не обновляется**: Убедитесь, что сервер правильно устанавливает заголовок Last-Modified
- **Ошибки в консоли**: Проверьте, что страница открыта через HTTP-сервер, а не через file://
- **Слишком частые обновления**: Увеличьте интервал проверки в скрипте (например, с 1000 мс до 2000 мс)